"use strict";exports.id=774,exports.ids=[774],exports.modules={4774:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>f});var r=s(997),n=s(6689),l=s.n(n),o=s(2856),i=s(1440),m=s(1098),u=s(1187),d=s(3879),p=s(6860),b=s(1708),c=s(6076),y=s(8271),_=s(2379),h=e([m,_]);function f(){let{isError:e,isLoading:a,getItems:s,postItem:t,delItems:h,updateQuery:f,result:g}=(0,m.t5)({page:0,per_page:10}),{data:x=[],pagination:j}=g,[L,C]=(0,n.useState)(null),[v,w]=(0,n.useState)(null),[Z,E]=(0,n.useState)([]),N=Z?.map(e=>({label:e.type_name,value:e.id})),P=()=>{C(null),w(null)},k=async()=>{await h({ids:[v.id],endPoint:"user/delete",resolve:e=>{(0,c.h)({message:e.message})}}),w(null)},F=async e=>{await t({endPoint:"admin/user/signup-internal",data:e,reject:e=>{console.log(e),(0,c.h)({message:e.response.data.error})}})},A=async()=>{await (0,_.ac)({end_point:"common-api/user-types",resolve:e=>E(e.data)})};(0,n.useEffect)(()=>{A()},[]),(0,n.useEffect)(()=>{s({endPoint:"users"})},[s]);let S=l().useCallback(e=>e.user_type_name,[]);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{title:"Add New User",buttonColor:"info",buttonLabel:"Done",isActive:!!L,onCancel:P,actionBar:!1,children:r.jsx(y.Z,{btnLabel:"Add",handleFormSubmit:F,formFields:[{name:"first_name",Label:"First Name",helper:"Enter your first name"},{name:"last_name",Label:"Last Name",helper:"Enter your last name"},{name:"mobile_number",Label:"Mobile Number",helper:"Enter your mobile number"},{name:"password",Label:"Password",helper:"Enter your password"},{name:"user_type_id",Label:"Choose user type",helper:"type",options:[{label:"Choose user type",value:"0"},...N]}]})}),(0,r.jsxs)(i.Z,{title:"Please confirm",buttonColor:"danger",buttonLabel:"Confirm",isActive:!!v,onConfirm:k,onCancel:P,children:[r.jsx("p",{children:"User are going to remove from data list "}),r.jsx("p",{children:"Confirm if you are sure"})]}),(0,r.jsxs)(u.Z,{isLoading:a,isError:e,children:[r.jsx(o.Z,{actions:{add:()=>C({}),del:e=>w(e)},dataList:x?.map(e=>({...e,m_last_name:e.last_name||e.first_name,m_user_type:S(e.user_type)})),headers:[{key:"first_name",label:"First Name"},{key:"m_last_name",label:"Last Name"},{key:"mobile_number",label:"Mobile Number"},{key:"m_user_type",label:"User Type"}]}),!x.length&&r.jsx(d.Z,{children:r.jsx(p.Z,{})})]}),r.jsx("div",{children:r.jsx(b.R,{onClick:e=>f(a=>({...a,page:e})),itemsPerPage:j.per_page,totalItems:j.total})})]})}[m,_]=h.then?(await h)():h,t()}catch(e){t(e)}})}};