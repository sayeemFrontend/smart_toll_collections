(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return l(6974)}])},6860:function(e,n,l){"use strict";var a=l(5893);l(7294),n.Z=()=>(0,a.jsx)("div",{className:"text-center py-24 text-gray-500 dark:text-slate-400",children:(0,a.jsx)("p",{children:"Nothing's hereâ€¦"})})},6977:function(e,n,l){"use strict";l.d(n,{Z:function(){return d}});var a=l(5893),t=l(5317),s=l(5138),r=l(7678),i=l(3879);l(7294);var o=e=>{let{title:n,children:l}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h1",{className:"text-2xl",children:n}),l]})},c=l(1260),d=e=>{let{title:n,buttonColor:l,buttonLabel:d,isActive:u,children:x,onConfirm:m,onCancel:h,actionBar:j=!0}=e;if(!u)return null;let f=j&&(0,a.jsxs)(r.Z,{children:[!!m&&(0,a.jsx)(s.Z,{label:d,color:l,onClick:m}),!!h&&(0,a.jsx)(s.Z,{label:"Cancel",color:l,outline:!0,onClick:h})]});return(0,a.jsx)(c.Z,{onClick:h,className:h?"cursor-pointer":"",children:(0,a.jsxs)(i.Z,{className:"transition-transform shadow-lg overflow-auto m-6 w-fit h-fit z-50",isModal:!0,footer:f,children:[(0,a.jsx)(o,{title:n,children:!!h&&(0,a.jsx)(s.Z,{icon:t.r5M,color:"whiteDark",onClick:h,small:!0,roundedFull:!0})}),(0,a.jsx)("div",{className:"space-y-3",children:x})]})})}},8271:function(e,n,l){"use strict";l.d(n,{Z:function(){return d}});var a=l(5893);l(7294);var t=l(3879),s=l(2175),r=l(7721),i=l(7771),o=l(7678),c=l(5138);function d(e){let{prevData:n,formFields:l,handleFormSubmit:d,btnLabel:u="add"}=e,x=async e=>await d(e),m={};return null==l||l.forEach(e=>{let{name:l}=e;m[l]=n&&n[l]?n[l]:""}),(0,a.jsx)("div",{className:"min-w-max lg:w-[400px]",children:(0,a.jsx)(t.Z,{className:"shadow-2xl",children:(0,a.jsx)(s.J9,{initialValues:m,onSubmit:x,children:(0,a.jsxs)(s.l0,{children:[null==l?void 0:l.map((e,n)=>{var l;return e.options?(0,a.jsx)(r.Z,{label:"".concat(e.Label||""),help:"".concat(e.helper||""),children:(0,a.jsx)(s.gN,{as:"select",name:"".concat(e.name),children:null===(l=e.options)||void 0===l?void 0:l.map((e,n)=>(0,a.jsx)("option",{value:e.value,children:e.label},"".concat(e.label+n)))})},"".concat(e.name+n)):(0,a.jsx)(r.Z,{label:"".concat(e.Label||""),help:"".concat(e.helper||""),children:(0,a.jsx)(s.gN,{name:"".concat(e.name),type:"".concat(e.type||"text")})},e.name)}),(0,a.jsx)(i.Z,{}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(c.Z,{type:"submit",label:"".concat(u),color:"info"})})]})})})})}},6437:function(e,n,l){"use strict";l.d(n,{Z:function(){return i}});var a=l(5893);l(7294);var t=l(1722),s=l(2361),r=e=>{let{small:n=!1,className:l="",...t}=e;return(0,a.jsxs)("div",{className:"inline-flex items-center capitalize leading-none ".concat(n?"text-xs":"text-sm"," ").concat(l),children:[t.icon&&(0,a.jsx)(s.Z,{path:t.icon,h:"h-4",w:"w-4",className:n?"mr-1":"mr-2",size:n?14:null}),t.label&&(0,a.jsx)("span",{children:t.label})]})},i=e=>{let{small:n=!1,outline:l=!1,className:s="",...i}=e,o=l?t.bN[i.color]:t.RH[i.color];return(0,a.jsx)(r,{className:"border rounded-full ".concat(n?"py-1 px-3":"py-1.5 px-4"," ").concat(o," ").concat(s),icon:i.icon,label:i.label,small:n})}},2856:function(e,n,l){"use strict";l.d(n,{Z:function(){return i}});var a=l(5893),t=l(5317);l(7294);var s=l(5138),r=l(7678);function i(e){let{headers:n,dataList:l=[],actions:i}=e,o=null==n?void 0:n.map(e=>e.label),c=null==n?void 0:n.map(e=>e.key);return(0,a.jsxs)("div",{className:"relative",children:[i.add&&(0,a.jsx)("div",{className:" w-fit ml-auto absolute right-4 -top-10",children:(0,a.jsx)(s.Z,{color:"info",icon:t.m8P,onClick:i.add,small:!0})}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:null==o?void 0:o.map(e=>(0,a.jsx)("th",{children:e},e))})}),(0,a.jsx)("tbody",{children:null==l?void 0:l.map(e=>(0,a.jsxs)("tr",{children:[null==c?void 0:c.map((n,l)=>(0,a.jsx)("td",{"data-label":n,children:"".concat(e[n]||"-")},l)),i&&(0,a.jsx)("td",{className:"before:hidden lg:w-1 whitespace-nowrap",children:(0,a.jsxs)(r.Z,{type:"justify-start lg:justify-end",noWrap:!0,children:[i.edit&&(0,a.jsx)(s.Z,{color:"info",icon:t.rgx,onClick:()=>i.edit(e),small:!0}),i.del&&(0,a.jsx)(s.Z,{color:"danger",icon:t.QGK,onClick:()=>i.del(e),small:!0})]})})]},e.id))})]})]})}},9017:function(e,n,l){"use strict";l.d(n,{Z:function(){return j}});var a=l(5893),t=l(7294),s=l(2856),r=l(6977),i=l(1098),o=l(1187),c=l(3879),d=l(6860),u=l(1708),x=l(6076),m=l(2379),h=l(8271);function j(){let{isError:e,isLoading:n,getItems:l,delItems:j,postItem:f,updateQuery:b,result:p}=(0,i.t5)({page:0,per_page:10}),{data:g=[],pagination:v}=p,[y,N]=(0,t.useState)(null),[Z,C]=(0,t.useState)(null),[w,_]=(0,t.useState)([]),[k,T]=(0,t.useState)([]),E=async()=>{await j({ids:[Z.id],endPoint:"transaction-log/delete",resolve:e=>{(0,x.h)({message:e.message})}}),C(null)},L=async e=>{await f({endPoint:"transaction-log/add",data:e,reject:e=>{console.log(e),(0,x.h)({message:e.response.data.error})}})},S=async()=>{await (0,m.CQ)({end_points:["users?user_type_id=3","nfc-card/all"],resolve:e=>{let[n,l]=e;if(n.status){let e=n.data;T(()=>null==e?void 0:e.map(e=>({label:"".concat(e.first_name," ").concat(e.last_name),value:e.id})))}if(l.status){let e=l.data;_(()=>null==e?void 0:e.map(e=>({label:"".concat(e.nfc_card_no," (").concat(e.id,")"),value:e.nfc_card_no})))}}})};(0,t.useEffect)(()=>{S()},[]),(0,t.useEffect)(()=>{l({endPoint:"transaction-log/all"})},[l]);let P=t.useCallback(e=>{let{first_name:n,last_name:l}=e;return"".concat(n," ").concat(l)},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{title:"Add New ",buttonColor:"info",buttonLabel:"Done",isActive:!!y,onCancel:()=>{N(null),C(null)},actionBar:!1,children:(0,a.jsx)(h.Z,{btnLabel:"Add",handleFormSubmit:L,formFields:[{name:"operator_id",Label:"Choose operator",options:[{label:"None",value:"0"},...k]},{name:"nfc_card_no",Label:"Choose nfc card",options:[{label:"None",value:"0"},...w]}]})}),(0,a.jsxs)(r.Z,{title:"Please confirm",buttonColor:"danger",buttonLabel:"Confirm",isActive:!!Z,onConfirm:E,onCancel:()=>C(null),children:[(0,a.jsx)("p",{children:"You are going to remove from data list "}),(0,a.jsx)("p",{children:"Confirm if you are sure"})]}),(0,a.jsxs)(o.Z,{isLoading:n,isError:e,children:[(0,a.jsx)(s.Z,{actions:{add:()=>N({}),del:e=>C(e)},dataList:null==g?void 0:g.map(e=>({...e,m_name:P(e)})),headers:[{key:"id",label:"Transaction ID"},{key:"m_name",label:"User Name"},{key:"mobile_number",label:"Mobile Number"},{key:"recharge_amount",label:"Transaction Amount"},{key:"ts",label:"Transaction Time"}]}),!g.length&&(0,a.jsx)(c.Z,{children:(0,a.jsx)(d.Z,{})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(u.R,{onClick:e=>b(n=>({...n,page:e})),itemsPerPage:v.per_page,totalItems:v.total})})]})}},1708:function(e,n,l){"use strict";l.d(n,{R:function(){return o}});var a=l(5893),t=l(7294),s=l(1358),r=l.n(s);let i=[1,2,3,4,5,6,7,8,9,10,11,12,13,14];function o(e){let{itemsPerPage:n=10,onClick:l,totalItems:s=i.length}=e,[,o]=(0,t.useState)(0);return(0,a.jsx)("div",{className:"pagination-container mx-auto w-max",children:(0,a.jsx)(r(),{breakLabel:"...",nextLabel:"Next",onPageChange:e=>{let a=e.selected*n%s;o(a),l(e.selected)},pageRangeDisplayed:4,pageCount:Math.ceil(s/n),previousLabel:"Prev",renderOnZeroPageCount:null,containerClassName:"paginationButtons",activeClassName:"activePaginate"})})}},6974:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return z}});var a=l(5893),t=l(5317),s=l(9008),r=l.n(s),i=l(7294),o=l(9605),c=l(2641),d=l(9252),u=l(3879),x=l(5143),m=l(9017),h=l(1098),j=l(1187),f=l(1722),b=l(5138),p=l(2361),g=l(2077),v=l.n(g),y=e=>{let{prefix:n="",suffix:l="",value:t,duration:s=500}=e,[r,o]=(0,i.useState)(0),c=r<1e3?r:v()(r).format("0,0"),d=[],u=e=>{let n=Math.ceil(r+e);if(n>t)return o(t),!1;o(n),d.push(setTimeout(()=>{u(e)},25))};return(0,i.useEffect)(()=>(u(t/(s/25)),()=>{d.forEach(e=>{clearTimeout(e)})})),(0,a.jsxs)("div",{children:[n,c,l]})},N=l(6437),Z=e=>{let{small:n=!1,...l}=e,s={up:t.Waq,down:t.CW,success:t.k6A,danger:t.O8k,warning:t._gM,info:t.EaN}[l.type];return(0,a.jsx)(N.Z,{label:l.label,color:l.color,icon:s,small:n})},C=e=>(0,a.jsxs)(u.Z,{className:"px-6 py-8",children:[e.trendLabel&&e.trendType&&e.trendColor&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(Z,{label:e.trendLabel,type:e.trendType,color:e.trendColor,small:!0}),(0,a.jsx)(b.Z,{icon:t.Shd,color:"lightDark",small:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg leading-tight text-gray-500 dark:text-slate-400",children:e.label}),(0,a.jsx)("h1",{className:"text-3xl leading-tight font-semibold",children:(0,a.jsx)(y,{value:e.number,prefix:e.numberPrefix,suffix:e.numberSuffix})})]}),e.icon&&(0,a.jsx)(p.Z,{path:e.icon,size:"48",w:"",h:"h-16",className:f.uK[e.iconColor]})]})]}),w=l(2758),_=l(9040),k=l(3091),T=l(4479),E=l(4878),L=l(5045),S=function(e){let{chartData:n=[]}=e,l=[],t=[],s=[];n.forEach((e,n)=>{l.push({x:n+1,y:e.fair}),t.push({x:n+1,y:e.MOTOR_BIKE}),s.push({x:n+1,y:e.CNG})});let r=["#3b82f6","#2563eb","#BDBDBD"];return(0,a.jsxs)(w.k,{width:600,height:270,children:[(0,a.jsx)(_.u,{x:400,y:20,symbolSpacer:4,style:{labels:{fontSize:"12",fill:"gray"}},orientation:"horizontal",colorScale:r,data:[{name:"Fair",symbol:{type:"circle"}},{name:"MOTO_BIKE",symbol:{type:"circle"}},{name:"CNG",symbol:{type:"circle"}}]}),(0,a.jsx)(k.E,{style:{tickLabels:{fontSize:"6px",fill:"gray"}},tickValues:null==n?void 0:n.map(e=>e.transaction_day),tickLabelComponent:(0,a.jsx)(T.X,{backgroundPadding:4,angle:-40})}),(0,a.jsx)(k.E,{dependentAxis:!0,style:{tickLabels:{fontSize:"10px",fill:"gray"}},tickFormat:e=>"".concat(e),domain:[0,1e3]}),(0,a.jsxs)(E.G,{offset:20,colorScale:r,children:[(0,a.jsx)(L.u,{data:l}),(0,a.jsx)(L.u,{data:t}),(0,a.jsx)(L.u,{data:s})]})]})};function P(){let{getItems:e,result:n,isLoading:l,isError:s}=(0,h.t5)({}),{transaction_stats:r=[],user_stats:o={},total_toll_amount_collected:c=0,number_of_toll_collected:d=0}=n.data,{REGULAR_USER:x}=o;return(0,i.useEffect)(()=>{e({endPoint:"dashboard/all"})},[e]),(0,a.jsxs)(j.Z,{isError:s,isLoading:l,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6",children:[(0,a.jsx)(C,{trendType:"up",trendColor:"success",icon:t.zr,iconColor:"success",number:x,label:"Users"}),(0,a.jsx)(C,{trendType:"down",trendColor:"danger",icon:t.MqH,iconColor:"info",number:c,numberPrefix:"TK-",label:"Total Toll Amount"}),(0,a.jsx)(C,{trendType:"warning",trendColor:"warning",icon:t.M7S,iconColor:"danger",number:d,label:"Total Toll Number"})]}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{className:"mb-6",children:r&&(0,a.jsx)(S,{chartData:r})})})]})}let M=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:(0,x.pz)("Dashboard")})}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{icon:t.M7S,title:"Overview",main:!0}),(0,a.jsx)(P,{}),(0,a.jsx)(u.Z,{hasTable:!0,className:"mt-24",children:(0,a.jsx)(m.Z,{})})]})]});M.getLayout=function(e){return(0,a.jsx)(o.Z,{children:e})};var z=M}},function(e){e.O(0,[702,664,848,505,515,697,774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);